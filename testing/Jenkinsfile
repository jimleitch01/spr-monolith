pipeline {
    agent {
        label 'maven'
    }
    stages {
        stage('GitCheckout'){
            steps{
                sh 'echo Git Checkout'
                checkout scm
                sh 'ls -l '
            }}


        stage('Testing') {
            steps {
                sh 'echo Testing'
                sh '#find / -name settings-docker.xml '
                sh 'mvn -f /tmp/pom.xml -B -s /usr/share/maven/ref/repository/settings-docker.xml -Dtest=PetControllerTests surefire:test  '
            }
        }
    }
}




// parallel 'test1':{
//     node('Linux') {
//         withAWS(credentials: 'xxxxxxxx') {
//             s3Download bucket: 'test1', file: 'teste.txt', path: 'd2/d5/'
//     	}
//     }
// }, 'test2':{
//     node('MACOS') {
//         withAWS(credentials: 'xxxxxxxxxx') {
//             s3Download bucket: 'test1', file: 'teste.txt', path: 'd2/d5/'
//     	}
//     }
// }